<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>TEST</title>
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<script
  src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.2.0/chart.min.js"
  integrity="sha512-VMsZqo0ar06BMtg0tPsdgRADvl0kDHpTbugCBBrL55KmucH6hP9zWdLIWY//OTfMnzz6xWQRxQqsUFefwHuHyg=="
  crossorigin="anonymous"></script>
<script
  src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns@next/dist/chartjs-adapter-date-fns.bundle.min.js"></script>
</head>
<body>
<div style="width:400px">
  <canvas id="mychart"></canvas>
</div>
<script>
document.addEventListener('DOMContentLoaded', () => {
    // URLパラメータを取得してパースする関数
    function getQueryParam(param) {
      const params = new URLSearchParams(window.location.search);
      return params.get(param);
    }

    // 個別にパラメータを取得
    const speaker0 = parseInt(getQueryParam('speaker0'));
    const speaker1 = parseInt(getQueryParam('speaker1'));

    // パラメータが取得できているか確認
    if (!isNaN(speaker0) && !isNaN(speaker1)) {
      const labelDurations = { speaker0, speaker1 };
      console.log("取得したデータ：", labelDurations, speaker0, speaker1);
      
      // ここに chart.js のコードを追加して、データを表示
    var ctx = document.getElementById('mychart');
var myChart = new Chart(ctx, {
  type: 'pie',
  data: {
    labels: ['speaker0', 'speaker1'],
    datasets: [{
      data: [speaker0,speaker1],
      backgroundColor: [
        'rgba(255, 99, 132, 0.6)',
        'rgba(255, 206, 86, 0.6)'
    ]}],
      
  },

});

} else {
      console.error("データが取得できませんでした");
    }
  });
</script>
</div>
</body>
</html>
